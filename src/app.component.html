
<div class="min-h-screen flex flex-col transition-colors duration-300">
  @if (isAuthenticated()) {
    <header class="bg-blue-600 text-white shadow-md">
      <nav class="container mx-auto px-6 py-3">
        <div class="flex items-center justify-between">
          <div class="text-xl font-bold">
            <a routerLink="/dashboard" class="flex items-center space-x-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9v-2h2v2zm0-4H9V7h2v5zm4 4h-2v-2h2v2zm0-4h-2V7h2v5z"/><path d="M12.01 2.01C6.49 2.01 2.01 6.49 2.01 12s4.48 9.99 9.99 9.99S22 17.51 22 12 17.53 2.01 12.01 2.01zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-6h2v2h-2zm0-5h2v4h-2z"/></svg>
              <span>Dental FHIR AI</span>
            </a>
          </div>
          <div class="hidden md:flex items-center space-x-1">
            @for (link of navLinks; track link.path) {
              <a [routerLink]="link.path" routerLinkActive="bg-blue-700" [routerLinkActiveOptions]="{ exact: true }"
                 class="py-2 px-3 rounded-md text-sm font-medium transition-colors duration-300 hover:bg-blue-700">
                {{ link.label }}
              </a>
            }
          </div>
          <div class="flex items-center space-x-2">
            <button (click)="toggleTheme()" title="Toggle theme" class="p-2 rounded-full transition-colors duration-300 hover:bg-blue-700">
              @if (currentTheme() === 'dark') {
                <!-- Sun Icon for Dark Mode -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
              } @else {
                <!-- Moon Icon for Light Mode -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
              }
            </button>
            <button (click)="logout()" class="flex items-center py-2 px-3 rounded-md text-sm font-medium transition-colors duration-300 hover:bg-blue-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd" />
              </svg>
              Logout
            </button>
          </div>
        </div>
      </nav>
    </header>
  }

  <main class="flex-grow container mx-auto p-6">
    <router-outlet></router-outlet>
  </main>

  @if (isAuthenticated()) {
    <footer class="bg-gray-800 text-white text-center p-4 mt-auto dark:bg-gray-900">
      <p>&copy; 2024 Dental FHIR AI Assistant. All rights reserved.</p>
    </footer>
  }
</div>
<app-notifications></app-notifications>
